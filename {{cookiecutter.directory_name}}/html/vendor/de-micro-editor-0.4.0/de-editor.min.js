var LoadEditor;(()=>{var e=[(e,t,a)=>{"use strict";function o(e,t,a,o,s){var n=document.querySelectorAll(`.${e}`);if(n.forEach((e=>{t instanceof Object?t.forEach((t=>{e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)})):e.classList.remove(t),e.classList.remove(a),e.classList.add(s.css_class)})),o){try{var l=o.hidden}catch(e){console.log(`aot hide.hidden not found ${e}`);l=!1}try{var i=o.class}catch(e){console.log(`aot hide.hidden not found ${e}`);i=""}if(l&&i){document.querySelectorAll(`.${i}`).forEach((e=>{e.style.display="none"}))}}return String(n.length)}function s(e,t,a,o,s){var n=document.querySelectorAll(`.${e}`);if(n.forEach((e=>{t instanceof Object?t.forEach((t=>{e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)})):e.classList.add(t),e.classList.add(a),e.classList.add(s.css_class)})),o){try{var l=o.hidden}catch(e){console.log(`aot hide.hidden not found ${e}`);l=!1}try{var i=o.class}catch(e){console.log(`aot hide.hidden not found ${e}`);i=""}if(l&&i){document.querySelectorAll(`.${i}`).forEach((e=>{e.style.display="inline"}))}}return String(n.length)}function n(e){e.hist&&window.history.replaceState({},"",e.href),e.state&&window.history.pushState(e.state,"",e.href),e.cit&&(e.cit.innerHTML=`${location.hostname}${location.pathname}${e.href}`,e.cit.setAttribute("href",e.href))}function l(e){let t="spinner_"+e;null!==document.getElementById(t)&&document.getElementById(t).remove()}function i(e,t){return e||t}a.r(t),a.d(t,{addMarkup:()=>s,hideLoading:()=>l,paramCheck:()=>i,removeMarkup:()=>o,uptState:()=>n})},(e,t,a)=>{"use strict";a.r(t)},e=>{"use strict";e.exports=OpenSeadragon},(e,t,a)=>{const{SetDataCookie:o}=a(4),{AnnotationType:s}=a(1);e.exports=class{constructor(e){if(e&&"aot"in e){this.aot=e.aot;var{AnnotationSlider:t}=a(5)}if(e&&"fs"in e){this.fs=e.fs;var{FullSize:s}=a(6)}if(e&&"fos"in e){this.fos=e.fos;var{FontSize:n}=a(7)}if(e&&"ff"in e){this.ff=e.ff;var{FontFamily:l}=a(8)}if(e&&"is"in e){this.is=e.is,console.log("Warning 001: ImageSwitch parameter 'is' requires OpenSeadragon library: https://openseadragon.github.io/");var{ImageSwitch:i}=a(9)}if(e&&"il"in e){this.il=e.il,console.log("Warning 002: ImageLoader parameter 'il' requires OpenSeadragon library: https://openseadragon.github.io/");var{ImageLoader:r}=a(10)}if(e&&"ep"in e){this.ep=e.ep,console.log("Warning 003: Edition Pagination parameter 'ep' requires OpenSeadragon library: https://openseadragon.github.io/");var{EditionPagination:c}=a(11)}if(e&&"wr"in e&&!0===e.wr){this.wr=e.wr;var{WindowResize:d}=a(12)}if(e&&"up"in e&&!0===e.up){this.up=e.up;var{UrlSearchParamUpdate:u}=a(13);this.upc=new u}if(e&&"lang"in e){this.lang=e.lang;var{MultiLanguage:h}=a(14)}if(this.aot){[...this.aot.variants].forEach((e=>{e.custom_function instanceof Function&&(e.custom_function=e.custom_function.toString())}));try{new o("annotation_slider",this.aot).build()}catch(e){console.log(e)}}if(this.fs)try{new o("fullsize",this.fs).build()}catch(e){console.log(e)}if(this.fos)try{new o("fontsize",this.fos).build()}catch(e){console.log(e)}if(this.ff)try{new o("font_family",this.ff).build()}catch(e){console.log(e)}if(this.il)try{new o("image_loader",this.il).build()}catch(e){console.log(e)}if(this.is)try{new o("image_switch",this.is).build()}catch(e){console.log(e)}if(this.ep)try{new o("ed_pagination",this.ep).build()}catch(e){console.log(e)}if(this.lang)try{new o("multi_language",this.lang).build()}catch(e){console.log(e)}if(this.ep)try{window.customElements.define("edition-pagination",c)}catch(e){console.log(e)}if(this.aot)try{window.customElements.define("annotation-slider",t),this.up&&(window.onload=this.upc.textFeatures())}catch(e){console.log(e)}if(this.fs)try{window.customElements.define("full-size",s),this.up&&(window.onload=this.upc.fullSreen())}catch(e){console.log(e)}if(this.fos)try{window.customElements.define("font-size",n),this.up&&(window.onload=this.upc.fontSize())}catch(e){console.log(e)}if(this.ff)try{window.customElements.define("font-family",l),this.up&&(window.onload=this.upc.fontFamily())}catch(e){console.log(e)}if(this.wr)try{window.customElements.define("window-resize",d)}catch(e){console.log(e)}if(this.is)try{window.customElements.define("image-switch",i),this.up&&(window.onload=this.upc.viewerSwitch())}catch(e){console.log(e)}if(this.il)try{window.customElements.define("image-loader",r),this.up&&(window.onload=this.upc.pageUrl())}catch(e){console.log(e)}if(this.lang)try{window.customElements.define("multi-language",h),this.up&&(window.onload=this.upc.multiLanguage())}catch(e){console.log(e)}window.onpopstate=()=>{if(this.aot&&this.up)try{this.upc.textFeatures()}catch(e){console.log(e)}if(this.fs&&this.up)try{this.upc.fullSreen()}catch(e){console.log(e)}if(this.fos&&this.up)try{this.upc.fontSize()}catch(e){console.log(e)}if(this.ff&&this.up)try{this.upc.fontFamily()}catch(e){console.log(e)}if(this.is&&this.up)try{this.upc.viewerSwitch()}catch(e){console.log(e)}if(this.il&&this.up)try{this.upc.pageUrl()}catch(e){console.log(e)}if(this.lang&&this.up)try{this.upc.multiLanguage()}catch(e){console.log(e)}},window.onload=()=>{if(""==window.location.hash)return!1;var e=document.querySelector(window.location.hash);null!==e&&(e.scrollIntoView({behavior:"smooth"}),e.style.backgroundColor="#FFFCA1",setTimeout((function(){e.style.backgroundColor="transparent"}),1e4))}}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{SetDataCookie:()=>o});class o{constructor(e,t){this.name=e,this.config=t}build(){sessionStorage.setItem(this.name,JSON.stringify(this.config))}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{AnnotationSlider:()=>r});const{addMarkup:o,removeMarkup:s,uptState:n,paramCheck:l}=a(0),{AnnotationType:i}=a(1);class r extends HTMLElement{static get observedAttributes(){return["opt","onclick"]}connectedCallback(){this.render(),this.childNodes[3].childNodes[1].addEventListener("click",this.textFeatures)}textFeatures(){let e=sessionStorage.getItem("annotation_slider");if(e){let I=JSON.parse(e),N=new URL(window.location.href),z=new URLSearchParams(N.search),C=this.getAttribute("id");C||console.log("Error 001 in component annotation slider:           ID of annotation slider custom child element not found.           Make sure the annotation-slider element holds the attribute 'opt' with           a defined string value.");try{var t=I.variants.find((e=>e.opt===C))}catch(e){console.log("Error 002 in component annotation slider:          No option parameters found. Creating default parameters to continue.")}let k=l(t,{opt:C,features:{all:!1,class:"single-feature"}});k||console.log("Error 003 in component annotation slider:          No variant found! Please define a variant object that contains                 and 'opt' key holding a string value that matches the 'opt' value of custom                 element 'annotation#slider'.");try{var a=k.features}catch(e){console.log("Message 004 in component annotation slider:          Features object in variant not found. Creating default parameters.")}var i=l(a,{all:!1,class:"single-feature"});try{var r=I.variants.filter((e=>!1===e.features.all))}catch(e){console.log("Message 005 in component annotation slider:          No option parameters found. Creating default parameters to continue.")}var c=l(r,[{opt:C,features:{all:!1,class:"single-feature"}}]);try{var d=I.variants.filter((e=>!0===e.features.all))}catch(e){console.log("Message 006 in component annotation slider:          No option parameters found. Creating default parameters to continue.")}var u=l(d,{opt:"text-features",features:{all:!0,class:"features-1"}});try{var h=I.span_element}catch(e){console.log("Message 007 in component annotation slider:        style obj not found. Creating default parameters.")}var m=l(h,{css_class:"badge-item"}),f=l(I.active_class,"active"),g=i.all,p=i.class;if(!0===g)if(this.classList.contains(f))this.classList.remove(f),[...c].forEach((e=>{if(!0===document.getElementById(e.opt).checked&&e.features.class===p){var t=l(e.color,`color-${e.opt}`);let o=l(e.html_class,`html-class-${e.opt}`),n=l(e.css_class,`css-class-${e.opt}`),i=l(e.hide,!1);s(o,n,t,i,m);var a=l(e.opt_slider,`${e.opt}-slider`);try{let e=document.getElementById(a);e.classList.remove(t),e.removeAttribute("data"),e.classList.remove("slider-number")}catch(e){console.log(`Error 008 in component annotation slider:                 slider class ${a} not found!`)}document.getElementById(e.opt).checked=!1,document.getElementById(e.opt).classList.remove(f),z.delete(e.opt)}})),this.removeAttribute("data"),this.classList.remove("slider-number");else{var v=0;this.classList.add(f),c.forEach((e=>{if(!1===document.getElementById(e.opt).checked&&e.features.class===p){var t=l(e.color,`color-${e.opt}`);let n=l(e.html_class,`html-class-${e.opt}`),i=l(e.css_class,`css-class-${e.opt}`),r=l(e.hide,!1);var a=o(n,i,t,r,m),s=l(e.opt_slider,`${e.opt}-slider`);try{let e=document.getElementById(s);e.classList.add(t),e.setAttribute("data",a),e.classList.add("slider-number")}catch(e){console.log(`Message 009 in component annotation slider:                   slider class ${s} not found!`)}document.getElementById(e.opt).checked=!0,document.getElementById(e.opt).classList.add(f),z.set(e.opt,"on"),v+=parseInt(a)}})),this.setAttribute("data",String(v)),this.classList.add("slider-number")}else if("boolean"!=typeof g)console.log('Error 010 in component annotation slider:           Type of variant config. "features.all" must be Boolean (true or false)');else{var y=l(k.color,`color-${k.opt}`),b=l(k.html_class,`html-class-${k.opt}`),$=l(k.css_class,`css-class-${k.opt}`),w=l(k.hide,!1),L=l(k.opt_slider,`${k.opt}-slider`);if(this.classList.contains(f)){this.classList.remove(f);s(b,$,y,w,m);try{let e=document.getElementById(L);e.classList.remove(y),e.removeAttribute("data"),e.classList.remove("slider-number")}catch(e){console.log(`Error 011 in component annotation slider:             slider class ${L} not found!`)}this.classList.remove(y),z.delete(k.opt)}else{this.classList.add(f);let e=o(b,$,y,w,m);try{let t=document.getElementById(L);t.classList.add(y),t.setAttribute("data",e),t.classList.add("slider-number")}catch(e){console.log(`Error 012 in component annotation slider:             slider class ${L} not found!`)}this.classList.add(y),z.set(k.opt,"on")}var _=u.find((e=>e.features.class===i.class));if(_ instanceof Object){let e=document.querySelectorAll(`input.${i.class}[aot-type="false"]:checked`),t=c.filter((e=>!1===e.features.all&&e.features.class===i.class));e.length===t.length?(document.getElementById(_.opt).checked=!0,document.getElementById(_.opt).classList.add(f)):(document.getElementById(_.opt).checked=!1,document.getElementById(_.opt).classList.remove(f))}}var S={[k.opt]:"on/off"},E=l(k.chg_citation,"citation-url"),A=document.getElementById(E);let x=`?${z}${location.hash}`;n({hist:!1,cit:A,state:S,href:x})}}render(){let e="annotation_slider",t=sessionStorage.getItem(e),a=JSON.parse(t),o=this.getAttribute("opt");"string"!=typeof o&&console.log("Error 013 in component annotation slider:       No 'opt' attribute in custom element font-family found!");var s=this.getAttribute("onclick");try{var n=a.variants.find((e=>e.opt===o))}catch(e){console.log("Message 014 in component annotation slider:         No option parameters found. Creating default parameters to continue.")}var i=l(n,{opt:o,features:{class:"features-1",all:!1}});try{var r=i.features}catch(e){console.log("Message 015 in component annotation slider:         Features object in variant not found. Creating default parameters.")}let c=l(r,{all:!1,class:"feature-1"}),d=l(i.title,"Text Feature"),u=l(i.opt_slider,`${o}-slider`);try{var h=a.rendered_element}catch(e){console.log("Message 017 in component annotation slider:       Hide object not found. Creating default parameters.")}let m=l(h,{label_class:"switch",slider_class:"i-slider round"}),f=l(m.label_class,"switch"),g=l(m.slider_class,"i-slider round");this.innerHTML=`\n            <label>${d}</label>\n            <label class="${f}">\n                <input title="${d}"\n                    onclick="${s}"\n                    type="checkbox"\n                    id="${o}"\n                    data-target="${e}"\n                    class="${c.class}"\n                    aot-type="${String(c.all)}"/>\n                <span id="${u}" class="${g}"></span>\n            </label>\n        `}disconnectedCallback(){this.childNodes[3].childNodes[1].removeEventListener("click",this.textFeatures)}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{FullSize:()=>n});const{uptState:o,paramCheck:s}=a(0);class n extends HTMLElement{static get observedAttributes(){return["opt"]}connectedCallback(){this.render(),this.childNodes[3].addEventListener("click",this.fullScreen)}fullScreen(){let e=sessionStorage.getItem("fullsize");if(e){var t=JSON.parse(e);let m=new URL(window.location.href),f=new URLSearchParams(m.search),g=this.getAttribute("id");try{var a=t.variants.find((e=>e.opt===g))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var n=s(a,{opt:g}),l=s(t.active_class,"active"),i=s(n.hide,"hide-container"),r=s(n.to_hide,"fade"),c=s(n.urlparam,"fullscreen");"off"==f.get(c)||null==f.get(c)?(f.set(c,"on"),document.querySelectorAll(`.${i}`).forEach((e=>{e.classList.add(r)})),this.innerHTML='\n                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-fullscreen-exit" viewBox="0 0 16 16">\n                    <path d="M5.5 0a.5.5 0 0 1 .5.5v4A1.5 1.5 0 0 1 4.5 6h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5zm5 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 10 4.5v-4a.5.5 0 0 1 .5-.5zM0 10.5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 6 11.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zm10 1a1.5 1.5 0 0 1 1.5-1.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4z"/>\n                </svg>\n            ',this.classList.remove(l)):(f.delete(c),document.querySelectorAll(`.${i}`).forEach((e=>{e.classList.remove(r)})),this.innerHTML='\n                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-fullscreen" viewBox="0 0 16 16">\n                    <path d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"/>\n                </svg>\n            ',this.classList.add(l));var d={[s(n.opt,"edition-fullscreen")]:f.get(c)},u=s(n.chg_citation,"citation-url"),h=document.getElementById(u);let p=`?${f}${location.hash}`;o({hist:!1,cit:h,state:d,href:p})}}render(){let e="fullsize";var t=JSON.parse(sessionStorage.getItem(e));let a=this.getAttribute("opt");try{var o=t.variants.find((e=>e.opt===a))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var n=s(o,{opt:a}),l=s(t.active_class,"nav-link btn btn-round"),i=s(t.render_svg,"<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-fullscreen' viewBox='0 0 16 16'><path d='M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z'/></svg>"),r=s(n.title,"Full screen on/off"),c=s(n.opt,"edition-fullscreen");this.innerHTML=`\n            <small><label style="padding:.2em;">${r}:</label></small>\n            <a title="${r}"\n                style="cursor:pointer;"\n                class="${l} active"\n                id="${c}"\n                data-target="${e}">\n                ${i}\n            </a>\n        `}attributeChangedCallback(){this.render()}disconnectedCallback(){this.childNodes[3].removeEventListener("click",this.fullScreen)}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{FontSize:()=>n});const{uptState:o,paramCheck:s}=a(0);class n extends HTMLElement{static get observedAttributes(){return["opt"]}connectedCallback(){this.render(),this.childNodes[3].addEventListener("change",this.fontSize)}fontSize(){let e=sessionStorage.getItem("fontsize");if(e){var t=JSON.parse(e);let m=new URL(window.location.href),f=new URLSearchParams(m.search),g=this.getAttribute("id");try{var a=t.variants.find((e=>e.opt===g))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var n=s(a,{opt:g});let p=s(n.paragraph,"p"),v=s(n.p_class,"yes-index");try{var l=n.sizes}catch(e){console.log("Sizes obj not found. Creating default parameters.")}let y=s(l,{default:"default",font_size_14:"14",font_size_18:"18",font_size_22:"22",font_size_26:"26"}),b=s(n.urlparam,"fontsize");var i=document.getElementById(g).value,r=s(n.css_class,"font-size-");if(f.get(b)!==i.replace(r,"")){f.set(b,i.replace(r,"")),document.querySelectorAll(`${p}.${v}`).forEach((e=>{for(let t in y)"default"!==y[t]&&e.classList.remove(r+y[t]);"default"!==i&&e.classList.add(i)}))}var c=n.opt;s(n.opt,"select-fontsize");var d={[c]:f.get(b)},u=s(n.chg_citation,"citation-url"),h=document.getElementById(u);let $=`?${f}${location.hash}`;o({hist:!1,cit:h,state:d,href:$})}}render(){let e="fontsize",t=sessionStorage.getItem(e);var a=JSON.parse(t);let o=this.getAttribute("opt");try{var n=a.variants.find((e=>e.opt===o))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var l=s(n,{opt:o});try{var i=l.sizes}catch(e){console.log("Sizes obj not found. Creating default parameters.")}let r=s(i,{default:"default",font_size_14:"14",font_size_18:"18",font_size_22:"22",font_size_26:"26"});var c=s(a.html_class,"custom-select"),d=s(l.css_class,"font-size-");let u=`\n            <small><label style="padding:.2em;">${s(l.title,"Font size")}:</label></small>\n            <select id="${o}" data-target="${e}" class="${c}">\n        `;for(let e in r){if("default"==r[e])var h=`<option value="default" selected='selected'>${r[e].split("-").slice(-1)} px`;else h=`<option value='${d}${r[e]}'>${r[e].split("-").slice(-1)} px`;u+=h,u+="</option>"}u+="</select>",this.innerHTML=u}attributeChangedCallback(){this.render()}disconnectedCallback(){this.childNodes[3].removeEventListener("change",this.fontSize)}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{FontFamily:()=>n});const{uptState:o,paramCheck:s}=a(0);class n extends HTMLElement{static get observedAttributes(){return["opt"]}connectedCallback(){this.render(),this.childNodes[3].addEventListener("change",this.fontFamily)}fontFamily(){let e=sessionStorage.getItem("font_family");if(e){let u=JSON.parse(e),h=new URL(window.location.href),m=new URLSearchParams(h.search),f=this.getAttribute("id");try{var t=u.variants.find((e=>e.opt===f))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var a=s(t,{opt:f}),n=s(a.chg_citation,"citation-url"),l=document.getElementById(n),i=s(a.urlparam,"font");let g=s(a.paragraph,"p"),p=s(a.p_class,"yes-index");try{var r=a.fonts}catch(e){console.log("Font family object not found. Creating default parameters.")}let v=s(r,{default:"default",font1:"Times-New-Roman",font2:"Courier-New",font3:"Arial-serif"});var c=document.getElementById(a.opt).value;if(m.get(i)!==c){m.set(i,c),document.querySelectorAll(`${g}.${p}`).forEach((e=>{for(let t in v)"default"!==v[t]&&e.classList.remove(v[t].toLowerCase());"default"!==c&&e.classList.add(c.toLowerCase())}))}var d={[a.opt]:m.get(i)};let y=`?${m}${location.hash}`;o({hist:!1,cit:l,state:d,href:y})}}render(){let e="font_family",t=sessionStorage.getItem(e),a=JSON.parse(t),o=this.getAttribute("opt");"string"!=typeof o&&console.log("No 'opt' attribute in custom element font-family found!");try{var n=a.variants.find((e=>e.opt===o))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var l=s(n,[{opt:o}]);try{var i=l.fonts}catch(e){console.log("Font family object not found. Creating default parameters.")}let r=s(i,{default:"default",font1:"Times-New-Roman",font2:"Courier-New",font3:"Arial-serif"}),c=s(a.html_class,"custom-select"),d=s(l.css_class,""),u=`\n            <small><label style="padding:.2em;">${s(l.title,"Font Family")}:</label></small>\n            <select id="${o}" data-target="${e}" class="${c}">\n        `;for(let e in r){if("default"==r[e])var h=`<option value="default" selected='selected'>${r[e].replace("-"," ")}`;else h=`<option value='${d}${r[e]}'>${r[e].replace("-"," ")}`;u+=h,u+="</option>"}u+="</select>",this.innerHTML=u}attributeChangedCallback(){this.render()}disconnectedCallback(){this.childNodes[2].removeEventListener("change",this.fontFamily)}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{ImageSwitch:()=>i});const{uptState:o,paramCheck:s,hideLoading:n}=a(0),l=a(2);class i extends HTMLElement{static get observedAttributes(){return["opt"]}connectedCallback(){this.render(),this.childNodes[3].addEventListener("click",this.viewerSwitch)}viewerSwitch(){let e=this.getAttribute("id");"string"!=typeof e&&console.log("No 'opt' attribute in custom element font-family found!");let t=sessionStorage.getItem("image_switch");if(t){let _=JSON.parse(t);_||alert("Please turn on cookies to display content!");let S=new URL(location.href),E=new URLSearchParams(S.search);try{var a=_.variants.find((t=>t.opt===e))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var i=s(a,{opt:e}),r=s(_.active_class,"active");try{var c=i.hide}catch(e){console.log("Hide object not found. Creating default parameters.")}let A=s(c,{hidden:!0,class_to_hide:"hide-container1",class_to_show:"show-container1",class_parent:"hide-show-wrapper",resize:"resize-hide"}),I=(s(A.hidden,!0),s(A.class_to_hide,"hide-container1")),N=s(A.class_to_show,"show-container1"),z=s(A.resize,"resize-hide");s(A.class_parent,"hide-show-wrapper");var d=s(i.urlparam,"image");let C=s(i.fade,"fade");try{var u=i.column_small}catch(e){console.log("Hide object not found. Creating default parameters.")}let k=s(u,{class:"col-md-6",percent:"50"});try{var h=i.column_full}catch(e){console.log("Hide object not found. Creating default parameters.")}let x=s(h,{class:"col-md-12",percent:"100"}),B=[s(k.class,"col-md-6"),s(k.percent,"50")],M=[s(x.class,"col-md-12"),s(x.percent,"100")];if("on"==E.get(d))E.set(d,"off"),document.querySelectorAll(`.${I}`).forEach((e=>{e.classList.add(C),e.classList.remove(B[0]),e.style.maxWidth=`${M[1]}%`,e.classList.remove(r)})),document.querySelectorAll(`.${N}`).forEach((e=>{e.classList.remove(B[0]),e.classList.add(M[0]),e.style.maxWidth=`${M[1]}%`,e.classList.remove(r)})),document.querySelectorAll(`.${z}`).forEach((e=>{e.classList.add(C)})),this.classList.remove(r);else{if(E.set(d,"on"),document.querySelectorAll(`.${I}`).forEach((e=>{e.classList.remove(C),e.classList.add(B[0]),e.style.maxWidth=`${B[1]}%`,e.classList.add(r)})),document.querySelectorAll(`.${N}`).forEach((e=>{e.classList.add(B[0]),e.classList.remove(M[0]),e.style.maxWidth=parseInt(M[1])-parseInt(B[1])+"%",e.classList.add(r)})),document.querySelectorAll(`.${z}`).forEach((e=>{e.classList.remove(C)})),!document.getElementsByClassName("openseadragon-container")[0]){var m=document.querySelectorAll("image-loader"),f=m[0].getAttribute("data-type"),g=m[0].getAttribute("pos"),p=document.getElementById(`${f}_img_${g}`),v=`${f}_container_${g}`,y=document.getElementById(v),b=document.getElementById(`${f}_container2_${g}`),$=document.getElementById(`text-resize-${g}`).offsetHeight,w=document.getElementById(`img-resize-${g}`).offsetWidth;y.style.height=$/1.2+"px",y.style.width=`${w}px`;let e=p.getAttribute("data-src"),t=l({id:v,prefixUrl:"https://cdnjs.cloudflare.com/ajax/libs/openseadragon/4.0.0/images/",tileSources:{type:"image",url:e},showRotationControl:!0,gestureSettingsTouch:{pinchRotate:!0}});b.remove(),t.addHandler("open",(function(){let e=t.world.getItemAt(0);e.getFullyLoaded()?n(v):e.addOnceHandler("fully-loaded-change",(function(){let e="spinner_"+v;document.getElementById(e)&&document.getElementById(e).remove()}))}))}this.classList.add(r)}var L={[i.opt]:E.get(i.opt)};let F=s(i.chg_citation,"citation-url"),R=document.getElementById(F),T=`?${E}${location.hash}`;o({hist:!1,cit:R,state:L,href:T})}}render(){let e="image_switch",t=sessionStorage.getItem(e),a=JSON.parse(t),o=this.getAttribute("opt");"string"!=typeof o&&console.log("No 'opt' attribute in custom element font-family found!");try{var n=a.variants.find((e=>e.opt===o))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var l=s(n,{opt:o});try{var i=a.rendered_element}catch(e){console.log("Sizes obj not found. Creating default parameters.")}let r=s(i,{a_class:"nav-link btn btn-round",svg:"<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-image' viewBox='0 0 16 16'><path d='M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z'/><path d='M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z'/></svg>"}),c=s(a.active_class,"active"),d=s(l.title,"Facsimile on/off");this.innerHTML=`\n            <small><label style="padding:.2em;">${d}:</label></small>\n            <a title="${d}"\n                class="${r.a_class} ${c}"\n                id="${l.opt}"\n                data-target="${e}">\n                ${r.svg}\n            </a>\n        `}attributeChangedCallback(){this.render()}disconnectedCallback(){this.childNodes[3].removeEventListener("click",this.viewerSwitch)}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{ImageLoader:()=>s});const{paramCheck:o}=a(0);class s extends HTMLElement{static get observedAttributes(){return["opt","data-type","data-source","pos"]}connectedCallback(){this.render()}render(){let e=sessionStorage.getItem("image_loader"),t=JSON.parse(e),a=o(t.url,"provide-url"),s=o(t.url_param,"provide-url-params (optional)"),n=this.getAttribute("pos");"string"!=typeof n&&console.log("No 'opt' attribute in custom element font-family found!");let l=this.getAttribute("data-type");"string"!=typeof l&&console.log("No 'opt' attribute in custom element font-family found!");let i=this.getAttribute("data-source");"string"!=typeof i&&console.log("No 'opt' attribute in custom element font-family found!"),this.innerHTML=`\n            <span id="${l}_img_${n}" data-src="${a}${i}${s}">Enable JavaScript to load image!</span>\n        `}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{EditionPagination:()=>i});const o=a(2),{uptState:s,paramCheck:n}=a(0),l=[];class i extends HTMLElement{static get observedAttributes(){return["opt","pos","facs","data-type"]}connectedCallback(){this.render(),this.childNodes[1].addEventListener("click",this.updateImgPage)}updateImgPage(){let e=sessionStorage.getItem("ed_pagination");if(e){let d=JSON.parse(e),u=new URL(window.location.href),h=new URLSearchParams(u.search);var t=this.getAttribute("href");"string"!=typeof t&&console.log("No 'href' attribute in custom element pagination found!");var a=this.getAttribute("data-tab");"string"!=typeof t&&console.log("No 'data-tab' attribute in custom element pagination found!");let m=n(d.urlparam,"page");h.set(m,t.replace(/[^0-9]+/,""));var i={[m]:t.replace(/[^0-9]+/,"")};let f=n(d.chg_citation,"citation-url"),g=document.getElementById(f),p=`?${h}${location.hash}`;s({hist:!1,cit:g,state:i,href:p});let v=n(d.pag_link,".pagination-link"),y=document.querySelectorAll(`${v}`),b=n(d.active_class,"active"),$=n(d.bootstrap_class,"show"),w=n(d.pag_tab,".pagination-tab.tab-pane");y.forEach((function(e){e.classList.remove(b),e.classList.remove($)})),document.querySelectorAll(`${v}[href="${t}"]`).forEach((function(e){e.classList.add(b)})),document.querySelectorAll(`${w}[data-tab="${a}"]`).forEach((function(e){e.classList.remove(b)})),document.querySelectorAll(`${w}${t}`).forEach((function(e){e.classList.add(b),e.classList.add($)}));let L=this.getAttribute("id");try{var r=l.find((e=>e.opt===L))}catch(x){console.log("No option parameters found. Creating default parameters to continue.")}var c=n(r,{opt:L});let _=n(d.url,"provide-url"),S=n(d.url_param,""),E=n(d.osd_target,"container"),A=n(d.img_source,"container2"),I=n(d.img_size,"500px"),N=`${_}${c.dataSource}${S}`,z=`${c.dataType}_${E}_${c.pos}`,C=`${c.dataType}_${A}_${c.pos}`;document.getElementById(C)&&document.getElementById(C).remove();let k=document.getElementById(z);if(0===k.childNodes.length){k.style.height=I;let B=o({id:z,prefixUrl:"https://cdnjs.cloudflare.com/ajax/libs/openseadragon/3.1.0/images/",tileSources:{type:"image",url:N},showRotationControl:!0,gestureSettingsTouch:{pinchRotate:!0}});function M(){let e="spinner_"+z;document.getElementById(e)&&document.getElementById(e).remove()}B.addHandler("open",(function(){let e=B.world.getItemAt(0);e.getFullyLoaded()?M():e.addOnceHandler("fully-loaded-change",M)}))}}}render(){let e=this.getAttribute("data-type");"string"!=typeof e&&console.log("No 'data-type' attribute in custom element pagination found!");let t=this.getAttribute("pos");"string"!=typeof t&&console.log("No 'pos' attribute in custom element pagination found!");let a=this.getAttribute("facs");"string"!=typeof a&&console.log("No 'facs' attribute in custom element pagination found!"),l.push({opt:`${e}_link_${t}`,dataType:e,dataSource:a,pos:t}),this.innerHTML=`\n            <a title="Tab ${t}"\n                class="nav-link pagination-link active"\n                data-bs-toggle="tab"\n                data-tab="paginate"\n                id="${e}_link_${t}"\n                href="#paginate-${t}"\n                style="border-radius:30px;">\n                ${t}\n            </a>\n        `}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{WindowResize:()=>s});const o=[];class s extends HTMLElement{static get observedAttributes(){return["opt","pos"]}connectedCallback(){this.render(),this.childNodes[1].childNodes[1].addEventListener("mousedown",this.resize)}resize(){var e=!0;let t=this.getAttribute("id"),a=o.find((e=>`${e.opt}-${e.pos}`===t)),s=document.getElementById(`container-resize-${a.pos}`),n=document.getElementById(`text-resize-${a.pos}`),l=document.getElementById(`img-resize-${a.pos}`),i=document.getElementById(`${a.opt}-${a.pos}`),r=document.getElementById(`viewer-${a.pos}`),c=r.childNodes[0],d=n.childNodes[0];r.style.width=null,r.style.height=null,document.addEventListener("mousemove",(function(t){if(!e)return;let o=i.value,r=s.offsetWidth-t.clientX,u=s.offsetWidth-parseInt(o),h=window.innerWidth;parseInt(o)<h*parseFloat(a.size)-10?(n.style.maxWidth=s.offsetWidth-r+"px",l.style.maxWidth=`${r}px`,c.style.width=`${r}px`,c.style.height=`${r}px`):parseInt(o)>h*parseFloat(a.size)+10?(n.style.maxWidth=`${o}px`,d.style.width=`${o}px`,l.style.maxWidth=`${u}px`,c.style.width=`${u}px`,c.style.height=`${u}px`):parseInt(o)!==h*parseFloat(a.size)+9&&parseInt(o)!==h*parseFloat(a.size)-9||(n.style.maxWidth=100*parseFloat(a.size)+"%",d.style.width=100*parseFloat(a.size)+"%",l.style.maxWidth=100*(1-parseFloat(a.size))+"%",c.style.width=`${l.offsetWidth}px`,c.style.height=`${l.offsetHeight}px`)})),document.addEventListener("mouseup",(function(){e=!1}))}render(){let e=window.innerWidth,t=this.getAttribute("opt");"string"!=typeof t&&console.log("No 'opt' attribute in custom element window-resize found!");let a=this.getAttribute("pos");"string"!=typeof a&&console.log("No 'pos' attribute in custom element window-resize found!");let s=this.getAttribute("size");"string"!=typeof s&&console.log("No 'size' attribute in custom element window-resize found!"),o.push({opt:t,pos:a,size:s}),this.innerHTML=`\n            <div class="expand-wrapper text-center resize-hide">\n                <input title="change size" id="${t}-${a}" type="range" min="0" max="${e}" value="${e*parseFloat(s)}" class="slider"/>\n            </div>\n        `}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{UrlSearchParamUpdate:()=>n});const{uptState:o,paramCheck:s}=a(0);class n{fullSreen(){const{FullScreenType:e}=a(1);let t=document.getElementsByTagName("full-size")[0].getAttribute("opt");"string"!=typeof t&&console.log("No 'opt' attribute in custom element font-size found!");let n=sessionStorage.getItem("fullsize");if(n){var l=JSON.parse(n);l||alert("Please turn on cookies to display content!");let e=new URL(location.href),a=new URLSearchParams(e.search);try{var i=l.variants.find((e=>e.opt===t))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var r=s(i,{opt:t}),c=s(r.urlparam,"fullscreen"),d=s(l.active_class,"active"),u=s(r.hide,"hide-container"),h=s(r.to_hide,"fade");if(null==a.get(c)&&a.set(c,"off"),["on","off"].includes(a.get(c))||(console.log(`fullscreen=${a.get(c)} is not a selectable option.`),a.set(c,"off")),"off"==a.get(c)){[...document.querySelectorAll(`.${u}`)].forEach((e=>{e.classList.remove(h);let o=document.getElementById(t);o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg"\n                               width="16"\n                               height="16"\n                               fill="currentColor"\n                               class="bi bi-fullscreen"\n                               viewBox="0 0 16 16">\n                            <path d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"/>\n                          </svg>',o.classList.remove(d),a.delete(c)}))}if("on"==a.get(c)){[...document.querySelectorAll(`.${u}`)].forEach((e=>{e.classList.add(h);let a=document.getElementById(t);a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg"\n                               width="16"\n                               height="16"\n                               fill="currentColor"\n                               class="bi bi-fullscreen-exit"\n                               viewBox="0 0 16 16">\n                            <path d="M5.5 0a.5.5 0 0 1 .5.5v4A1.5 1.5 0 0 1 4.5 6h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5zm5 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 10 4.5v-4a.5.5 0 0 1 .5-.5zM0 10.5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 6 11.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zm10 1a1.5 1.5 0 0 1 1.5-1.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4z"/>\n                          </svg>',a.classList.add(d)}))}var m=s(r.chg_citation,"citation-url"),f=document.getElementById(m);let g=`?${a}${location.hash}`;o({hist:!0,cit:f,state:!1,href:g})}}fontSize(){const{FontSizeType:e}=a(1);var t=document.getElementsByTagName("font-size")[0].getAttribute("opt");"string"!=typeof t&&console.log("No 'opt' attribute in custom element font-size found!");let n=sessionStorage.getItem("fontsize");if(n){var l=JSON.parse(n);l||alert("Please turn on cookies to display content!");let e=new URL(location.href),a=new URLSearchParams(e.search);try{var i=l.variants}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var r=s(i,[{opt:t}]);for(let e in r){var c=s(r[e].urlparam,"fontsize"),d=s(r[e].chg_citation,"citation-url"),u=document.getElementById(d);let t=s(r[e].paragraph,"p"),o=s(r[e].p_class,"yes-index");try{var h=r[e].sizes}catch(e){console.log("Sizes obj not found. Creating default parameters.")}let n=s(h,{default:"default",font_size_14:"14",font_size_18:"18",font_size_22:"22",font_size_26:"26"});var m=s(r[e].css_class,"font-size-");if(null==a.get(c)&&a.set(c,"default"),Object.values(n).includes(a.get(c))){let s=document.querySelectorAll(`${t}.${o}`);var f="default"!==a.get(c)?m+a.get(c):a.get(c);document.getElementById(r[e].opt).value=f,[...s].forEach((e=>{for(let t in n)"default"!==n[t]&&e.classList.remove(m+n[t]);"default"!==f&&e.classList.add(f)}))}else console.log(`${c}=${a.get(c)} is not a selectable option.`),a.set(c,"default")}"default"==a.get(c)&&a.delete(c);let g=`?${a}${location.hash}`;o({hist:!0,cit:u,state:!1,href:g})}}fontFamily(){const{FontFamilyType:e}=a(1);let t=document.getElementsByTagName("font-family")[0].getAttribute("opt");"string"!=typeof t&&console.log("No 'opt' attribute in custom element font-family found!");let n=sessionStorage.getItem("font_family");if(n){let e=JSON.parse(n);e||alert("Please turn on cookies to display content!");let a=new URL(location.href),m=new URLSearchParams(a.search);try{var l=e.variants}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var i=s(l,[{opt:t}]);for(let e in i){var r=s(i[e].urlparam,"font"),c=s(i[e].chg_citation,"citation-url"),d=document.getElementById(c);let t=s(i[e].paragraph,"p"),a=s(i[e].p_class,"yes-index");try{var u=i[e].fonts}catch(e){console.log("Font family object not found. Creating default parameters.")}let o=s(u,{default:"default",font1:"Times-New-Roman",font2:"Courier-New",font3:"Arial-serif"});if(null==m.get(r)&&m.set(r,"default"),Object.values(o).includes(m.get(r))){let s=document.querySelectorAll(`${t}.${a}`);if("default"!==m.get(r))var h=m.get(r);else h=m.get(r);document.getElementById(i[e].opt).value=h,[...s].forEach((e=>{for(let t in o)"default"!==o[t]&&e.classList.remove(o[t].toLowerCase());"default"!==h&&e.classList.add(h.toLowerCase())}))}else console.log(`font=${m.get(r)} is not a selectable option.`),m.set(r,"default")}"default"==m.get(r)&&m.delete(r);let f=`?${m}${location.hash}`;o({hist:!0,cit:d,state:!1,href:f})}}viewerSwitch(){const{ImageSwitchType:e}=a(1);let t=document.querySelectorAll("image-switch")[0].getAttribute("opt");"string"!=typeof t&&console.log("No 'opt' attribute in custom element font-family found!");let n=sessionStorage.getItem("image_switch");if(n){let e=JSON.parse(n);e||alert("Please turn on cookies to display content!");let a=new URL(location.href),m=new URLSearchParams(a.search);try{var l=e.variants.find((e=>e.opt===t))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var i=s(l,{opt:t}),r=s(e.active_class,"active");try{var c=i.hide}catch(e){console.log("Hide object not found. Creating default parameters.")}let f=s(c,{hidden:!0,class_to_hide:"hide-container1",class_to_show:"show-container1",class_parent:"hide-show-wrapper",resize:"resize-hide"}),g=(s(f.hidden,!0),s(f.class_to_hide,"hide-container1")),p=s(f.class_to_show,"show-container1"),v=s(f.resize,"resize-hide");s(f.class_parent,"hide-show-wrapper");var d=s(i.urlparam,"image");let y=s(i.fade,"fade");try{var u=i.column_small}catch(e){console.log("Hide object not found. Creating default parameters.")}let b=s(u,{class:"col-md-6",percent:"50%"});try{var h=i.column_full}catch(e){console.log("Hide object not found. Creating default parameters.")}let $=s(h,{class:"col-md-12",percent:"100%"}),w=[s(b.class,"col-md-6"),s(b.percent,"50%")],L=[s($.class,"col-md-12"),s($.percent,"100%")];if(null==m.get(d)&&m.set(d,"off"),["on","off"].includes(m.get(d))||(console.log(`image=${m.get(d)} is not a selectable option.`),m.delete(d)),"on"==m.get(d)){[...document.querySelectorAll(`.${g}`)].forEach((e=>{e.classList.remove(y),e.classList.add(w[0]),e.style.maxWidth=w[1],e.classList.add(r)})),[...document.querySelectorAll(`.${p}`)].forEach((e=>{e.classList.add(w[0]),e.classList.remove(L[0]),e.style.maxWidth=w[1],e.classList.add(r)})),[...document.querySelectorAll(`.${v}`)].forEach((e=>{e.classList.remove(y)})),document.getElementById(t).classList.add(r)}if("off"==m.get(d)){[...document.querySelectorAll(`.${g}`)].forEach((e=>{e.classList.add(y),e.classList.remove(w[0]),e.style.maxWidth=L[1],e.classList.remove(r)})),[...document.querySelectorAll(`.${p}`)].forEach((e=>{e.classList.remove(w[0]),e.classList.add(L[0]),e.style.maxWidth=L[1],e.classList.remove(r)})),[...document.querySelectorAll(`.${v}`)].forEach((e=>{e.classList.add(y)})),document.getElementById(t).classList.remove(r),m.delete(d)}let _=s(i.chg_citation,"citation-url"),S=document.getElementById(_),E=`?${m}${location.hash}`;o({hist:!0,cit:S,state:!1,href:E})}}textFeatures(){const{AnnotationType:e}=a(1),{addMarkup:t,removeMarkup:n}=a(0);let l=sessionStorage.getItem("annotation_slider");if(l){let e=JSON.parse(l);e||alert("WARNING 1 - search_params/main: Please turn on cookies to display content.\n\n              Or check if configuration files path match data-target and data-path property.");let a=new URL(location.href),m=new URLSearchParams(a.search);try{var i=e.variants.filter((e=>!0===e.features.all))}catch(e){console.log("WARNING 2 - search_params/main: No option parameters found. Creating default \n\n           parameters to continue.")}let f=s(i,[{opt:"text-features",features:{all:!0,class:"all-features"}}]);try{var r=e.variants.filter((e=>!1===e.features.all))}catch(e){console.log("WARNING 3 - search_params/main: No option parameters found.\n\n           Creating default parameters to continue.")}let g=document.querySelectorAll("annotation-slider");var c=[];[...g].forEach((e=>{try{var t=e.getAttribute("opt")}catch(e){console.log("WARNING 4 - search_params/main: No variants found.\n                      add custom html element <annotation-slider> to your html file.")}t.length>0&&c.push({opt:t,features:{all:!1,class:"single-feature"}})}));let p=s(r,c);try{var d=e.variants.filter((e=>"boolean"!=typeof e.features.all))}catch(e){console.log("WARNING 5 - search_params/main: No option parameters found.\n\n           Creating default parameters to continue.")}let v=s(d,[]);if(v)for(let e of v)console.log(`WARNING 6 - search_params/main: Type of variant ${e} config.\n\n            "features.all" must be boolean (true or false)`);try{var u=e.span_element}catch(e){console.log("WARNING 6 - search_params/main: span_element.css_class object not found.\n\n           Creating default parameters.")}let y=s(u,{css_class:"badge-item"}),b=s(y,"badge-item"),$=s(e.active_class,"active"),w={},L=0;for(let e in p){let a=s(p[e].opt,`any-feature-${e}`),o=s(p[e].features.class,`class-${a}`),l=s(p[e].color,`color-${a}`),i=s(p[e].html_class,`html-class-${a}`),r=s(p[e].css_class,`css-class-${a}`),c=s(p[e].opt_slider,`${a}-slider`),d=s(p[e].hide,!1);if(null===m.get(a))if(!0===p[e].default){w.hasOwnProperty(o)?w[o]+=1:w[o]=1;let e=t(i,r,l,d,b);try{let t=document.getElementById(c);t.setAttribute("data",e),L+=parseInt(e),t.classList.add("slider-number"),t.classList.add(l),m.set(a,"on")}catch(e){console.log(`slider class ${c} not found!`)}let s=document.getElementById(a);!1===s.checked&&(s.checked=!0,s.classList.add($))}else{n(i,r,l,d,b);try{let e=document.getElementById(c);e.classList.remove(l),e.removeAttribute("data"),e.classList.remove("slider-number")}catch(e){console.log(`WARNING 7 - search_params/main: slider class ${c} not found!`)}let e=document.getElementById(a);!0===e.checked&&(e.checked=!1,e.classList.remove($))}else if(["on","off"].includes(m.get(a))){if("on"===m.get(a)){w.hasOwnProperty(o)?w[o]+=1:w[o]=1;let e=t(i,r,l,d,b);try{let t=document.getElementById(c);t.setAttribute("data",e),L+=parseInt(e),t.classList.add("slider-number"),t.classList.add(l)}catch(e){console.log(`WARNING 9 - search_params/main: slider class ${c} not found!`)}let s=document.getElementById(a);!1===s.checked&&(s.checked=!0,s.classList.add($))}else if("off"===m.get(a)){n(i,r,l,d,b);try{let e=document.getElementById(c);e.classList.remove(l),e.removeAttribute("data"),e.classList.remove("slider-number")}catch(e){console.log(`WARNING 10 - search_params/main: slider class ${c} not found!`)}let e=document.getElementById(a);!0===e.checked&&(e.checked=!1,e.classList.remove($)),m.delete(a)}}else{console.log(`${a}=${m.get(a)} is not a selectable option.`),m.delete(a);n(i,r,l,d,b);try{let e=document.getElementById(c);e.classList.remove(l),e.removeAttribute("data"),e.classList.remove("slider-number")}catch(e){console.log(`WARNING 8 - search_params/main: slider class ${c} not found!`)}let e=document.getElementById(a);!0===e.checked&&(e.checked=!1,e.classList.remove($))}let u=s(p[e].chg_citation,"citation-url");if(u)var h=document.getElementById(u)}[...f].forEach((e=>{let t=s(e.opt,"all-features");var a=document.getElementById(t),o=e.features.class,n=p.filter((e=>e.features.class===o));w[o]===n.length?!1===a.checked&&(a.checked=!0,a.classList.add($),a.classList.add("slider-number"),a.setAttribute("data",String(L))):!0===a.checked&&(a.checked=!1,a.classList.remove($),a.removeAttribute("data"),a.classList.remove("slider-number"))}));let _=`?${m}${location.hash}`;o({hist:!0,cit:h,state:!1,href:_})}}pageUrl(){const{hideLoading:e}=a(0),{PageUrl:t}=a(1);let n=sessionStorage.getItem("image_loader");var l=a(2);if(n){let t=JSON.parse(n),a=new URL(location.href),u=new URLSearchParams(a.search);var i=s(t.urlparam),r=u.get(i);if(null==r){let e=document.querySelector("edition-pagination").getAttribute("pos");u.set(i,e),r=u.get(i)}let h=s(t.pag_link,".pagination-link"),m=s(t.active_class,"active"),f=s(t.inactive_class,"fade"),g=s(t.bootstrap_class,"show"),p=s(t.pag_tab,".pagination-tab.tab-pane");[...document.querySelectorAll(`${p}[data-tab="paginate"]`)].forEach((function(e){e.classList.remove(m),e.classList.add(f)}));let v=document.querySelectorAll(`${h}`),y=[];if([...v].forEach((function(e){e.classList.remove(m),e.classList.remove(g);let t=e.getAttribute("id");if(t){let e=t.split("_"),a=e[e.length-1];y.push(a)}})),!y.includes(r)){let e=document.querySelector("edition-pagination").getAttribute("pos");console.log(`${i}=${r} is not a selectable option.`),u.set(i,e),r=u.get(i)}let b=document.getElementById(`paginate-${r}`);b.classList.remove(f),b.classList.add(m),b.classList.add(g),[...document.querySelectorAll(`${h}[href="#paginate-${r}"]`)].forEach((function(e){e.classList.add(m),e.classList.add(g)}));try{var c=t.img_types}catch(e){console.log("Hide object not found. Creating default parameters.")}let $=s(c,["type1","type2"]),w=s(t.osd_target,"container"),L=s(t.img_source,"container2"),_=(s(t.img_size,"500px"),0);for(;_<$.length;){if(document.getElementById(`${$[_]}_${w}_${r}`))var d=$[_];_++}let S=`${d}_${w}_${r}`,E=`${d}_${L}_${r}`,A=document.getElementById(S),I=document.getElementById(E),N=document.getElementById(`img-resize-${r}`),z=document.getElementById(`text-resize-${r}`).offsetHeight;if(I&&!N.classList.contains("fade")){A.style.height=`${z}px`;let t=document.getElementById(`${d}_img_${r}`).getAttribute("data-src"),a=l({id:S,prefixUrl:"https://cdnjs.cloudflare.com/ajax/libs/openseadragon/4.0.0/images/",tileSources:{type:"image",url:t},showRotationControl:!0,gestureSettingsTouch:{pinchRotate:!0}});I.remove(),a.addHandler("open",(function(){let t=a.world.getItemAt(0);t.getFullyLoaded()?e(S):t.addOnceHandler("fully-loaded-change",(function(){let e="spinner_"+S;document.getElementById(e)&&document.getElementById(e).remove()}))}))}let C=s(t.chg_citation,"citation-url"),k=document.getElementById(C),x=`?${u}${location.hash}`;o({hist:!0,cit:k,state:!1,href:x})}}multiLanguage(){const{MultiLanguage:e}=a(1),t=sessionStorage.getItem("multi_language");if(t){const e=JSON.parse(t);var n=new URL(document.location.href),l=new URLSearchParams(n.search),i=s(e.active_class,"lang_active"),r=[];for(let t of e.variants)r.push(t.opt);if(null==l.get("lang")){var c=navigator.language,d=r.includes(c.split("-")[0])?c.split("-")[0]:"en";l.set("lang",d)}else if(r.includes(l.get("lang")))d=l.get("lang");else{l.set("lang","en");var d="en";console.log("lang urlparameter does not fit webpage configuration.\n                    set to default language.")}try{var u=e.variants.filter((e=>e.opt!==d))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var h=s(u,[{opt:d}]);try{var m=e.variants.find((e=>e.opt===d))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}let a=s(m,{opt:d});a||console.log("No variant found! Please define a variant object that contains                   and 'opt' key holding a string value that matches the 'opt' value of custom                   element 'annotation#slider'."),[...h].forEach((e=>{document.getElementById(`ml_${e.opt}`).classList.remove(i)})),document.getElementById(`ml_${a.opt}`).classList.add(i);var f=s(a.map,{"index.html":"index-en.html"});if(f){let e=location.pathname.split("/"),t=3==e.length&&e[2].length>0?f[e[2]]:2==e.length&&e[1].length>0?f[e[1]]:f["index.html"];if(t){var g={lang:a.opt};let e=`${t}?${l}${location.hash}`;o({hist:!0,state:g,href:e})}}}}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{MultiLanguage:()=>n});const{uptState:o,paramCheck:s}=a(0);class n extends HTMLElement{static get observedAttributes(){return["opt"]}connectedCallback(){this.render(),this.childNodes[1].addEventListener("click",this.multiLanguage)}multiLanguage(){let e=sessionStorage.getItem("multi_language");if(e){let l=JSON.parse(e),i=new URL(window.location.href),r=new URLSearchParams(i.search),c=this.getAttribute("id").split("ml_")[1];c||console.log("ID of multi language custom child element not found.                 Make sure the annotation-slider element holds the attribute 'opt' with                 a defined string value.");try{var t=l.variants.find((e=>e.opt===c))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}let d=s(t,{opt:c});d||console.log("No variant found! Please define a variant object that contains                 and 'opt' key holding a string value that matches the 'opt' value of custom                 element 'annotation#slider'.");var a=s(d.map,{"index.html":"index-en.html"});if(r.set("lang",d.opt),a){let e=location.pathname.split("/"),t=3==e.length&&e[2].length>0?a[e[2]]:2==e.length&&e[1].length>0?a[e[1]]:a["index.html"];if(t){var n={lang:d.opt};let e=`${t}?${r}${location.hash}`;return o({hist:!0,state:n,href:e}),location.reload(),!1}}}}render(){let e=sessionStorage.getItem("multi_language"),t=JSON.parse(e),a=this.getAttribute("opt");"string"!=typeof a&&console.log("No 'opt' attribute in custom element font-family found!");try{var o=t.variants.find((e=>e.opt===a))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var n=s(o,{opt:a});let l=s(n.title,"English"),i=s(n.class,"nav-link pointer");this.innerHTML=`\n        <a id="ml_${n.opt}" class="${i}">${l}</a>\n      `}attributeChangedCallback(){this.render()}disconnectedCallback(){this.childNodes[1].removeEventListener("click",this.multiLanguage)}}}],t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,a),n.exports}a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o=a(3);LoadEditor=o})();
//# sourceMappingURL=de-editor.min.js.map